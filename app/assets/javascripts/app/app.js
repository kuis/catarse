var App=window.App=Skull.View.extend({el:"html",events:{"click #close-global-alert":"closeAlert","click a#user-menu":"toggleMenu","click a.mobile-menu-link":"mobileMenu","click .zendesk_widget":"showWidget","click #pg_search_submit":"searchProject","click .btn-dashboard":"toggleNav"},openAlert:function(){0===$("#global-alert").length||this.$("body").data("mobile")||(window.store.get("globalClosedCookies")?this.closeAlert():($("#global-alert").show(),$("body").css("padding-top","30px"),$("#global-alert").css("z-index","100")))},toggleNav:function(){return $(".body-project").toggleClass("closed"),$(".btn-dashboard").toggleClass("closed fa-cog"),$(".btn-dashboard").toggleClass("open fa-chevron-left"),!1},closeAlert:function(){$("body").css("padding-top","0"),$("#global-alert").slideUp("slow"),window.store.set("globalClosedCookies",!0)},searchProject:function(){return this.$(".discover-form:visible").submit(),!1},beforeActivate:function(){this.$search=this.$("#pg_search"),this.router=new Backbone.Router},activate:function(){this.openAlert(),this.$(".best_in_place").best_in_place(),this.$dropdown=this.$(".dropdown-list.user-menu"),this.flash(),this.notices(),Backbone.history.start({pushState:!1}),this.maskAllElements(),this.applyErrors()},flash:function(){var a=this;this.$flash=this.$(".flash"),setTimeout(function(){a.$flash.slideDown("slow")},100),this.$(".flash a").length||setTimeout(function(){a.$flash.fadeOut("slow")},5e3),$(window).click(function(){a.$(".flash a").slideUp()})},notices:function(){var a=this;setTimeout(function(){this.$(".notice-box").fadeIn("slow")},100),this.$(".notice-box").length&&setTimeout(function(){a.$(".notice-box").fadeOut("slow")},16e3),$(".icon-close").on("click",function(){a.$(".card-notification").fadeOut("slow")})},maskAllElements:function(){this.$("input[data-fixed-mask]").each(function(){$(this).fixedMask()})},showWidget:function(){return Zenbox.show(),!1},toggleMenu:function(){return this.$dropdown.toggleClass("w--open"),!1},applyErrors:function(){$.each($("[data-applyerror=true]"),function(a,b){$(b).addClass("error")})},isMobile:function(){var a=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);return a}});$(function(){var a=window.app=new App;window.toggleMenu=a.toggleMenu});